<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordinal Numbers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(to bottom, #4A90E2 0%, #67B26F 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* -------- NEW NEXT QUESTION BUTTON (TOP-LEFT) -------- */
        .next-question-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #3498DB;
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 25px;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            z-index: 2000;
            transition: all 0.3s ease;
        }

        .next-question-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
        }

        /* ---------------------------------------------------- */

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 3px 3px 0px rgba(0,0,0,0.2);
        }

        .instructions {
            text-align: center;
            font-size: 1.3em;
            color: white;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .score-board {
            background: #2C3E50;
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            font-size: 1.5em;
            margin-bottom: 30px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .score {
            font-size: 2em;
            color: #F1C40F;
            font-weight: bold;
        }

        .game-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-bottom: 30px;
        }

        .question-number {
            font-size: 1.5em;
            color: #2C3E50;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .sequence-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .ordinal-box {
            background: #3498DB;
            color: white;
            padding: 25px 35px;
            border-radius: 15px;
            font-size: 2em;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            min-width: 120px;
            text-align: center;
        }

        .empty-box {
            background: white;
            color: #E74C3C;
            border: 4px dashed #E74C3C;
            transition: all 0.3s;
            min-height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .empty-box.filled { background: #3498DB; border: 4px solid #2980B9; color: white; }
        .empty-box.correct { background: #2ECC71; border: 4px solid #27AE60; color: white; }
        .empty-box.wrong { background: #E74C3C; border: 4px solid #C0392B; color: white; }

        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1) rotate(-5deg); }
            75% { transform: scale(1.1) rotate(5deg); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .options-title {
            text-align: center;
            font-size: 1.3em;
            color: #2C3E50;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .options-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .option-btn {
            background: #ECF0F1;
            border: 4px solid #BDC3C7;
            padding: 20px 30px;
            font-size: 1.5em;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            color: #2C3E50;
        }

        .option-btn.selected { background: #3498DB; border-color: #2980B9; color: white; }
        .option-btn.used { opacity: 0.3; cursor: not-allowed; }

        .check-btn {
            background: #2ECC71;
            color: white;
            border: none;
            padding: 20px 50px;
            font-size: 1.5em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
            display: block;
            margin: 0 auto;
        }

        .check-btn:disabled { background: #95A5A6; cursor: not-allowed; }

        .back-button {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #ff6b6b;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-size: 26px;
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
        }

        .feedback {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 20px;
            min-height: 40px;
        }

        .feedback.correct { color: #2ECC71; }
        .feedback.wrong { color: #E74C3C; }

        .celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 5em;
            animation: pop 0.5s;
            pointer-events: none;
            z-index: 2000;
        }

        @keyframes pop {
            0% { transform: translate(-50%, -50%) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.3); }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
    </style>
</head>

<body>

    <!-- NEW TOP-LEFT NEXT QUESTION BUTTON -->
    <button class="next-question-btn" onclick="nextQuestion()">‚û°Ô∏è Next</button>

    <!-- ‚úÖ Home Button -->
<a class="home-button" href="../grade-1-math-index.html">üè† Home</a>

    <div class="container">
        <h1>üìù Ordinal Numbers</h1>
        <div class="instructions">Click a number, then click the empty box to fill it!</div>

        <div class="score-board">
            <div>Score: <span class="score" id="score">0</span> / <span id="total">0</span></div>
        </div>

        <div class="game-section">
            <div class="question-number" id="questionNumber">Question 1 of 15</div>

            <div class="sequence-container" id="sequenceContainer"></div>

            <div class="options-title">Click on the correct answer:</div>
            <div class="options-container" id="optionsContainer"></div>

            <button class="check-btn" id="checkBtn" onclick="checkAnswer()" disabled>Check Answer</button>

            <div class="feedback" id="feedback"></div>
        </div>
    </div>

<script>
/* GAME LOGIC ‚Äî UNCHANGED (your original code) */
let score = 0;
let currentQuestion = 0;
let selectedAnswer = null;
let correctAnswers = {};
let userAnswers = {};
let selectedButton = null;

const ordinals = ['1st','2nd','3rd','4th','5th'];

const questions = [
    {sequence:['1st','2nd',null,'4th','5th'],answers:{2:'3rd'}},
    {sequence:['1st','2nd','3rd','4th',null],answers:{4:'5th'}},
    {sequence:['1st',null,'3rd','4th','5th'],answers:{1:'2nd'}},
    {sequence:[null,'2nd','3rd','4th','5th'],answers:{0:'1st'}},
    {sequence:['1st','2nd','3rd',null,'5th'],answers:{3:'4th'}},
    {sequence:['1st',null,'3rd',null,'5th'],answers:{1:'2nd',3:'4th'}},
    {sequence:[null,'2nd',null,'4th','5th'],answers:{0:'1st',2:'3rd'}},
    {sequence:['1st','2nd',null,'4th',null],answers:{2:'3rd',4:'5th'}},
    {sequence:[null,null,'3rd','4th','5th'],answers:{0:'1st',1:'2nd'}},
    {sequence:['1st','2nd','3rd',null,null],answers:{3:'4th',4:'5th'}},
    {sequence:[null,'2nd','3rd',null,'5th'],answers:{0:'1st',3:'4th'}},
    {sequence:['1st',null,null,'4th','5th'],answers:{1:'2nd',2:'3rd'}},
    {sequence:['1st','2nd',null,null,'5th'],answers:{2:'3rd',3:'4th'}},
    {sequence:[null,'2nd','3rd','4th',null],answers:{0:'1st',4:'5th'}},
    {sequence:['1st',null,'3rd','4th',null],answers:{1:'2nd',4:'5th'}}
];

function speak(text){
    if('speechSynthesis'in window){
        const u=new SpeechSynthesisUtterance(text);
        u.rate=0.9;u.pitch=1.2;
        speechSynthesis.speak(u);
    }
}

function loadQuestion(){
    if(currentQuestion>=questions.length){ showFinalScore(); return; }

    selectedAnswer=null;
    selectedButton=null;
    userAnswers={};
    hasAnswered=false;

    document.getElementById('feedback').textContent='';
    document.getElementById('checkBtn').disabled=true;

    const q=questions[currentQuestion];
    correctAnswers=q.answers;

    document.getElementById('questionNumber').textContent=
        `Question ${currentQuestion+1} of ${questions.length}`;

    const seq=document.getElementById('sequenceContainer');
    seq.innerHTML='';

    q.sequence.forEach((item,i)=>{
        const box=document.createElement('div');
        box.className=item===null?'ordinal-box empty-box':'ordinal-box';
        box.textContent=item===null?'____':item;
        if(item===null){
            box.id='empty-'+i;
            box.onclick=()=>fillBox(i,box);
        }
        seq.appendChild(box);
    });

    const opt=document.getElementById('optionsContainer');
    opt.innerHTML='';
    const shuffled=[...ordinals].sort(()=>Math.random()-0.5);

    shuffled.forEach(o=>{
        const btn=document.createElement('button');
        btn.className='option-btn';
        btn.textContent=o;
        btn.onclick=()=>selectOption(o,btn);
        opt.appendChild(btn);
    });
}

function selectOption(o,btn){
    if(selectedButton) selectedButton.classList.remove('selected');
    btn.classList.add('selected');
    selectedButton=btn;
    selectedAnswer=o;

    if(Object.keys(correctAnswers).length===1){
        const idx=Object.keys(correctAnswers)[0];
        const box=document.getElementById('empty-'+idx);
        box.textContent=o;
        box.classList.add('filled');
        userAnswers[idx]=o;
        document.getElementById('checkBtn').disabled=false;
    }
}

function fillBox(idx,box){
    if(!selectedAnswer) return;
    box.textContent=selectedAnswer;
    box.classList.add('filled');
    userAnswers[idx]=selectedAnswer;

    selectedButton.classList.add('used');
    selectedButton.classList.remove('selected');

    selectedAnswer=null;
    selectedButton=null;

    if(Object.keys(userAnswers).length===Object.keys(correctAnswers).length){
        document.getElementById('checkBtn').disabled=false;
    }
}

function checkAnswer(){
    let correct=0;

    Object.keys(correctAnswers).forEach(i=>{
        const box=document.getElementById('empty-'+i);
        const right=correctAnswers[i];
        const ans=userAnswers[i];

        if(ans===right){
            box.classList.add('correct');
            correct++;
        } else {
            box.classList.add('wrong');
            setTimeout(()=>{
                box.textContent=right;
                box.classList.remove('wrong');
                box.classList.add('correct');
            },1500);
        }
    });

    if(correct===Object.keys(correctAnswers).length){
        score++;
        document.getElementById('feedback').textContent='‚úì Perfect!';
        document.getElementById('feedback').className='feedback correct';
    } else {
        document.getElementById('feedback').textContent=
            `You got ${correct} of ${Object.keys(correctAnswers).length}`;
        document.getElementById('feedback').className='feedback wrong';
    }

    document.getElementById('score').textContent=score;
    document.getElementById('total').textContent=currentQuestion+1;

    document.getElementById('checkBtn').disabled=true;

    document.querySelectorAll('.option-btn').forEach(b=>b.classList.add('used'));
}

function nextQuestion(){
    currentQuestion++;
    loadQuestion();
}

function showFinalScore(){
    const g=document.querySelector('.game-section');
    const pct=Math.round((score/questions.length)*100);

    g.innerHTML=`
        <div style="text-align:center;padding:40px;">
            <div style="font-size:4em;">üéä</div>
            <h2>Game Complete!</h2>
            <p style="font-size:2em;">Score: ${score}/${questions.length}</p>
            <p style="font-size:1.8em;color:#2ECC71;">${pct}% Correct</p>
            <button class="next-question-btn" onclick="location.reload()">üîÑ Play Again</button>
        </div>
    `;
}

loadQuestion();
</script>

</body>
</html>

